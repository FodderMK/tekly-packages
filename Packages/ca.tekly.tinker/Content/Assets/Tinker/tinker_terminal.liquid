<!doctype html>
<html lang="en">

{% assign title = 'Tinker' %}
{% include tinker_head %}

<body>
{%- include tinker_sidebar -%}
<div class="page ui basic">
	<div id="terminal"></div>
	
</div>
</body>

<script>
    $('#terminal').terminal(["/rpc", {
        cat: function(width = 200, height = 300) {
            return $(`<img src="https://loremflickr.com//${width}/${height}">`);
        },
        info: async function() {
            const result = await fetch('/tinker/info/app')
			const html = await result.text();
            return $(`${html}`);
        },
        info2: async function() {
            const result = await fetch('/tinker/info/app')
            const html = await result.text();
            return $(`${html}`);
        },
        assets: async function() {
            const result = await fetch('/unity/assets/card')
            const html = await result.text();
            return $(`${html}`);
        },
        title: function() {
            return fetch('https://terminal.jcubic.pl')
                .then(r => r.text())
                .then(html => html.match(/<title>([^>]+)<\/title>/)[1]);
        },
        name: function(name) {
            this.read('last name: ', last_name => {
                this.echo('Your name is ' + name + ' ' + last_name);
            });
        }
    }], {
        prompt: "[[;green;]> ]",
        checkArity: false,
        greetings: 'Tinker\n',
		completion: true,
    });
</script>

</html>